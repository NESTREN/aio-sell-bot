# SellBot - Telegram-магазин на aiogram с оплатой CryptoBot

![Python](https://img.shields.io/badge/Python-3.11%2B-blue?logo=python&logoColor=white)
![aiogram](https://img.shields.io/badge/aiogram-3.x-2c5fff?logo=telegram&logoColor=white)
![CryptoBot](https://img.shields.io/badge/CryptoBot-Crypto%20Pay-00b894?logo=bitcoin&logoColor=white)
![SQLite](https://img.shields.io/badge/SQLite-Embedded-07405e?logo=sqlite&logoColor=white)

SellBot - готовый Telegram-магазин с чистой архитектурой, удобным UX и быстрым запуском. Подходит для продажи цифровых товаров, доступов, ключей, файлов, подписок и любых нематериальных продуктов. Встроены оплата через CryptoBot (Crypto Pay API) и внутренний баланс.

---

## Содержание
1. Возможности
2. Преимущества
3. Скриншоты
4. Демо-сценарии
5. Быстрый старт
6. Конфигурация
7. Архитектура проекта
8. Админ-панель
9. Пользовательские сценарии
10. База данных
11. Roadmap
12. Безопасность и рекомендации
13. FAQ

---

## 1. Возможности
- 🛍️ Каталог товаров с удобной пагинацией и карточками.
- 🛒 Покупка товара в 2-3 клика.
- 💎 Оплата через CryptoBot (Crypto Pay API).
- 💰 Оплата с внутреннего баланса пользователя.
- 💳 Пополнение баланса фиксированными суммами или любой суммой (от 0.05 USDT).
- 👤 Личный кабинет (баланс, история покупок).
- 🧾 История заказов и статусы.
- 🛠️ Админ-панель для управления товарами и пользователями.
- 👥 Управление пользователями (поиск, карточка, баланс, заказы).
- 🔎 Быстрый поиск пользователя по ID или username.
- ✅ Удобный интерфейс с эмодзи-навигацией.

---

## 2. Преимущества
**Почему этот бот удобен для запуска магазина:**
- **Быстрый старт** - запуск в несколько шагов, без сложных зависимостей.
- **Простая база** - SQLite уже встроен, не нужен отдельный сервер.
- **Чистый код** - разнесено по модулям (handlers, db, keyboards, utils).
- **Расширяемость** - легко добавлять категории, промокоды, подписки, скидки.
- **Стабильность** - корректная обработка повторных кликов и ошибок Telegram API.
- **Нативный UX** - все происходит прямо в Telegram без внешних ссылок (кроме оплаты).
- **Баланс** - вы можете продавать пакеты, выдавать бонусы и делать внутренние расчеты.
- **Админ-пульт** - полноценное управление товарами и пользователями из чата.

---

## 3. Скриншоты
Разместите изображения в папке `assets/` и замените пути ниже на реальные файлы.

**Главное меню**  
![Главное меню](assets/screens/home.png)

**Каталог товаров**  
![Каталог](assets/screens/catalog.png)

**Карточка товара**  
![Карточка товара](assets/screens/product.png)

**Личный кабинет**  
![Личный кабинет](assets/screens/profile.png)

**Админ-панель**  
![Админ-панель](assets/screens/admin.png)

---

## 4. Демо-сценарии
**Пользователь:**
1. Открывает каталог -> выбирает товар -> оплачивает.
2. Личный кабинет -> пополняет баланс -> покупает за баланс.
3. Смотрит историю покупок.

**Администратор:**
1. Добавляет товар за 1-2 минуты.
2. Включает/выключает товары.
3. Ищет пользователя по ID -> корректирует баланс.
4. Смотрит список заказов.

---

## 5. Быстрый старт
1. Скопируйте `.env.example` в `.env` и заполните значения.
2. Установите зависимости:

```bash
pip install -r requirements.txt
```

3. Запустите бота:

```bash
python -m bot.main
```

---

## 6. Конфигурация
**Файл `.env`:**
- `BOT_TOKEN` - токен бота от @BotFather.
- `CRYPTO_BOT_TOKEN` - токен Crypto Pay API.
- `CRYPTO_BOT_API_URL` - базовый URL API (по умолчанию https://pay.crypt.bot/api).
- `CRYPTO_ASSET` - валюта оплаты (USDT / BTC / TON и т.д.).
- `ADMIN_IDS` - список Telegram ID админов через запятую.
- `DB_PATH` - путь к базе SQLite.

---

## 7. Архитектура проекта
```
SellBot/
├- bot/
│  ├- handlers/       # Логика пользовательских и админских команд
│  ├- keyboards/      # Клавиатуры (inline и reply)
│  ├- utils/          # Форматирование, тексты, callbacks
│  ├- crypto_pay.py   # Клиент Crypto Pay API
│  ├- db.py           # База данных (SQLite)
│  └- main.py         # Точка входа
├- requirements.txt
├- README.md
└- .env.example
```

---

## 8. Админ-панель
Админ-панель доступна пользователям с ID из `ADMIN_IDS`.

**Основные функции:**
- ➕ Добавить товар
- 📦 Список товаров, включение/выключение
- 🧾 Заказы
- 👥 Пользователи (поиск, карточка, баланс)
- 💰 Начислить баланс

---

## 9. Пользовательские сценарии
**Главное меню:**
- 🛍️ Каталог
- 👤 Личный кабинет
- ℹ️ Помощь

**Личный кабинет:**
- Баланс
- История покупок
- Пополнение баланса

---

## 10. База данных
Используется SQLite. Таблицы создаются автоматически при первом запуске.

**Таблицы:**
- `users` - пользователи, баланс
- `products` - товары
- `orders` - заказы
- `topups` - пополнения

---

## 11. Roadmap
- Категории товаров и фильтры
- Поиск по товарам
- Промокоды и скидки
- Подписки и периодические платежи
- Импорт/экспорт товаров
- Детальная статистика продаж

---

## 12. Безопасность и рекомендации
- Храните `.env` вне публичного доступа.
- Никогда не коммитьте `BOT_TOKEN` и `CRYPTO_BOT_TOKEN`.
- Регулярно обновляйте зависимости.
- Настройте резервное копирование `DB_PATH`.

---

## 13. FAQ
**Q: Можно ли изменить валюту оплаты?**
Да, через `CRYPTO_ASSET`.

**Q: Можно ли подключить другую платежку?**
Да, достаточно реализовать другой платежный клиент и заменить `crypto_pay.py`.

**Q: Можно ли добавить категории товаров?**
Да, архитектура позволяет легко добавить категории и фильтры.

---

## Лицензия
Свободное использование. При желании можно добавить MIT или другую лицензию.
